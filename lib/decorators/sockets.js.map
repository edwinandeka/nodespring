{"version":3,"sources":["../../src/decorators/sockets.js"],"names":["SocketListener","basePackagePath","path","dirname","NodeSpringUtil","getStack","replace","ModuleContainer","appDir","options","addSocketListener","target","property","descriptor","packagePath","constructor","name","arguments","length"],"mappings":";;;;;QAUgBA,c,GAAAA,c;;AALhB;;;;AACA;;;;AACA;;;;;;AAGO,SAASA,cAAT,GAA0B;;AAE/B,MAAIC,kBAAkBC,eAAKC,OAAL,CAAaC,yBAAeC,QAAf,GAA0BC,OAA1B,CAAkCC,0BAAgBC,MAAlD,EAA0D,EAA1D,EAA8DF,OAA9D,CAAsE,KAAtE,EAA6E,EAA7E,CAAb,CAAtB;AACA,MAAIG,UAAU,EAAd;;AAEA,MAAIC,oBAAoB,SAApBA,iBAAoB,CAACC,MAAD,EAASC,QAAT,EAAmBC,UAAnB,EAAkC;AACxD,QAAIC,cAAcb,kBAAkB,GAAlB,GAAwBU,OAAOI,WAAP,CAAmBC,IAA7D;AACAL,WAAOG,WAAP,GAAqBA,WAArB;;AAEAP,8BAAgBG,iBAAhB,CAAkCC,MAAlC,EAA0CC,QAA1C,EAAoDH,OAApD;AACD,GALD;;AAOA,MAAGQ,UAAUC,MAAV,IAAoB,CAAvB,EAA0B;AACxBT,cAAUQ,UAAU,CAAV,CAAV;;AAEA,WAAOP,iBAAP;AACD,GAJD,MAIO;AACL,QAAIC,SAASM,UAAU,CAAV,CAAb;AACA,QAAIL,WAAWK,UAAU,CAAV,CAAf;AACA,QAAIJ,aAAaI,UAAU,CAAV,CAAjB;;AAEAP,sBAAkBC,MAAlB,EAA0BC,QAA1B,EAAoCC,UAApC;AACD;AACF,C,CAjCD","file":"sockets.js","sourcesContent":["/**\n * Decorators for Socket events\n * @author calbertts\n */\n\nimport ModuleContainer from '../core/ModuleContainer'\nimport NodeSpringUtil from '../core/NodeSpringUtil'\nimport path from 'path'\n\n\nexport function SocketListener() {\n\n  let basePackagePath = path.dirname(NodeSpringUtil.getStack().replace(ModuleContainer.appDir, '').replace('.js', ''))\n  let options = {}\n\n  let addSocketListener = (target, property, descriptor) => {\n    let packagePath = basePackagePath + '/' + target.constructor.name\n    target.packagePath = packagePath\n\n    ModuleContainer.addSocketListener(target, property, options)\n  }\n\n  if(arguments.length <= 1) {\n    options = arguments[0]\n\n    return addSocketListener\n  } else {\n    let target = arguments[0]\n    let property = arguments[1]\n    let descriptor = arguments[2]\n\n    addSocketListener(target, property, descriptor)\n  }\n}"]}